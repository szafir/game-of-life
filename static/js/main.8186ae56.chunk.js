(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{211:function(e,t,n){e.exports=n(349)},347:function(e,t,n){},349:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(19),o=n.n(l),i=n(20),c=n(21),s=n(23),u=n(22),p=n(24),d=n(345),m=n(352),h=n(16),g=Object(h.withStyles)(function(e){return{cell:{background:"#aaa",display:"block",width:9,height:9,border:"1px solid rgb(220, 220, 220)"},alive:{background:"#fff"}}})(function(e){var t=e.classes,n=[t.cell,!1!==e.alive?t.alive:null];return r.a.createElement("span",{className:n.join(" ")})}),f=Object(h.withStyles)(function(e){return{row:{width:"100%",display:"flex",justifyContent:"center",alignItems:"flex-start"}}})(function(e){return r.a.createElement("div",{className:e.classes.row},e.items.map(function(t,n){return n>0&&n<e.items.length-1?r.a.createElement(g,{cellInd:n,alive:t,key:"cell-flexbox-".concat(e.rowInd,"-").concat(n)}):null}))}),b=n(5),v=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.cells,a=t.classes,l={width:this.props.fieldWidth,height:this.props.fieldHeight};return r.a.createElement(b.l,{elevation:2,className:a.paper,square:"true",style:l},n.map(function(t,a){return a>0&&a<n.length-1?r.a.createElement(f,{items:t,rowInd:a,onCellClick:e.onCellClick,key:"row-flexbox-".concat(a)}):null}))}}]),t}(a.Component),E=Object(h.withStyles)(function(e){return{paper:{margin:"0px auto",background:"#eee",backgroundImage:"url(/images/cell_11x11.png)"}}})(v),O=n(55),y=Object(h.withStyles)(function(e){return{cell:Object(O.a)({background:"#aaa",display:"block",width:6,height:6,position:"absolute",top:0,left:0,transformOrigin:"right bottom"},"background","#fff")}})(function(e){var t=e.classes,n=e.item,a=e.containerWidth,l=e.containerHeight,o=e.cellSize,i=e.viewportX,c=e.viewportY,s=n.split("_"),u=i+(o+1)*s[0]+a/2,p=c+(o+1)*s[1]+l/2,d={transform:"translate3d(".concat(u,"px,").concat(p,"px, 0)")};return u<0||u>a||p<0||p>l?null:r.a.createElement("span",{className:t.cell,style:d})}),w=(n(335),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleOnMouseDownCapture=function(e){n.props.dragStart({pageX:e.pageX,pageY:e.pageY})},n.handleOnMouseUpCapture=function(e){n.props.dragStop({pageX:e.pageX,pageY:e.pageY})},n.handleOnMouseMoveCapture=function(e){n.props.isDragging&&n.props.dragging({pageX:e.pageX,pageY:e.pageY})},n.pageRef=r.a.createRef(),n.state={containerWidth:0,containerHeight:0},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({containerWidth:this.pageRef.current.offsetWidth,containerHeight:this.pageRef.current.offsetHeight})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.cells,l=t.viewportX,o=t.viewportY,i=[n.paper];return this.props.isDragging&&i.push(n.isDragging),r.a.createElement("div",{elevation:2,className:i.join(" "),square:"true",ref:this.pageRef,onMouseDownCapture:this.handleOnMouseDownCapture,onMouseUpCapture:this.handleOnMouseUpCapture,onMouseMoveCapture:this.handleOnMouseMoveCapture,id:"plane"},Object.keys(a).map(function(t){return r.a.createElement(y,{item:t,containerWidth:e.state.containerWidth,containerHeight:e.state.containerHeight,cellSize:e.props.cellSize,viewportX:l,viewportY:o,key:"cell-".concat(t)})}))}}]),t}(a.Component)),C=Object(h.withStyles)(function(e){return{paper:{margin:"0px auto",background:"rgba(0, 0, 0, 0.14)",display:"flex",flexGrow:1,flexWrap:"wrap",position:"relative",cursor:"grab"},isDragging:{cursor:"grabbing"}}})(w),j=n(42),x=function(e){var t=e.cellSize*(e.cellInd-1)+1,n=e.cellSize*(e.rowInd-1)+1;return e.alive?r.a.createElement(j.Rect,{x:t,y:n,width:9,height:9,fill:"#fff"}):null},S=Object(h.withStyles)(function(e){return{paper:{margin:"0px auto",background:"#eee",backgroundImage:"url(/images/cell_11x11.png)"}}})(function(e){var t=e.cells,n=e.classes,a={width:e.fieldWidth,height:e.fieldHeight};return r.a.createElement(b.l,{elevation:2,className:n.paper,square:"true",style:a},r.a.createElement(j.Stage,{width:e.fieldWidth,height:e.fieldHeight},r.a.createElement(j.Layer,null,t.map(function(n,a){return a>0&&a<t.length-1?n.map(function(t,n){return r.a.createElement(x,{rowInd:a,cellInd:n,cellSize:e.cellSize,alive:t,key:"cell-canvas-".concat(a,"-").concat(n)})}):null}))))}),N=n(28),_=function(e){var t=function(t){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(p.a)(n,t),Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.shouldRun&&!this.props.isDragging&&e.populationSpeed===this.props.populationSpeed&&requestAnimationFrame(function(){setTimeout(function(){t.props.nextGeneration()},e.populationSpeed)})}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),n}(a.Component);return Object(N.b)(function(e){return{cells:e.cell.cells,viewportX:e.viewport.viewportX,viewportY:e.viewport.viewportY,isDragging:e.viewport.isDragging,fieldWidth:e.cell.fieldWidth,fieldHeight:e.cell.fieldHeight,cellSize:e.cell.cellSize,shouldRun:e.cell.shouldRun,populationSpeed:e.cell.populationSpeed}},function(e){return{nextGeneration:function(){return e({type:"RUN_GENERATION"})},changeCell:function(t,n){return e({type:"CHANGE_CELL",payload:{row:t,col:n}})},dragStart:function(t){return e({type:"VIEWPORT_START_DRAG",payload:t})},dragStop:function(t){return e({type:"VIEWPORT_STOP_DRAG",payload:t})},dragging:function(t){return e({type:"VIEWPORT_DRAGGING",payload:t})}}})(t)},R=n(351),k=n(129),I=n.n(k),T=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:0},n.handleChange=function(e,t){n.setState({value:t}),n.props.onChange(t)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.container},r.a.createElement(b.o,{id:this.props.label,className:e.label},this.props.label),r.a.createElement(I.a,{classes:{container:e.slider},value:this.state.value,onChange:this.handleChange,min:1}))}}]),t}(a.Component),G=Object(h.withStyles)(function(e){return{container:{padding:2*e.spacing.unit},label:{marginBottom:2*e.spacing.unit,textAlign:"left"}}})(T),X=[],A=[];[{label:"Glider",matrix:[[!1,!1,!0],[!0,!1,!0],[!1,!0,!0]]},{label:"Small Exploder",matrix:[[!1,!0,!0,!1],[!0,!0,!1,!0],[!1,!0,!0,!1]]},{label:"Exploder",matrix:[[!0,!1,!0,!1,!0],[!0,!1,!1,!1,!0],[!0,!1,!1,!1,!0],[!0,!1,!1,!1,!0],[!0,!1,!0,!1,!0]]},{label:"10 Cell Row",matrix:[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]]},{label:"100 Cell Row",matrix:[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]]},{label:"Lightweight spaceship (LWSS)",matrix:[[!1,!0,!0,!0,!0],[!0,!1,!1,!1,!0],[!1,!1,!1,!1,!0],[!0,!1,!1,!0,!1]]},{label:"Ants",matrix:[[!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0],[!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0],[!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!1,!1]]},{label:"Puffer trian",matrix:[[!1,!1,!1,!0,!1],[!1,!1,!1,!1,!0],[!0,!1,!1,!1,!0],[!1,!0,!0,!0,!0],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!0,!1,!1,!1,!1],[!1,!0,!0,!1,!1],[!1,!1,!0,!1,!1],[!1,!1,!0,!1,!1],[!1,!0,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!0,!1],[!1,!1,!1,!1,!0],[!0,!1,!1,!1,!0],[!1,!0,!0,!0,!0]]}].map(function(e){return X.push(e.label),A.push(e.matrix),!1});var D={labels:X,matrixes:A},Y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={interval:0,formation:""},n.executeNextGeneration=function(){n.props.nextGeneration()},n.executeClear=function(){n.props.clearCells()},n.executeRun=function(){n.props.startExistence()},n.executeFormationChange=function(e){n.setState({formation:e.target.value}),""===e.target.value?n.props.clearCells():n.props.fillFormation({formation:e.target.value})},n.ref=r.a.createRef(),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.executeFormationChange({target:{value:3}})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.toolbar},r.a.createElement(b.c,{className:e.button,variant:"contained",color:"primary",size:"small",onClick:this.executeNextGeneration},"Next generation"),this.state.interval?r.a.createElement(b.c,{className:e.button,variant:"contained",color:"primary",size:"small",onClick:this.executeRun},"Stop"):r.a.createElement(b.c,{className:e.button,variant:"contained",color:"primary",size:"small",onClick:this.executeRun},this.props.shouldRun?"Stop":"Run"," "),r.a.createElement(b.c,{className:e.button,variant:"contained",color:"primary",size:"small",onClick:this.executeClear,id:"clear-button"},"Clear"),r.a.createElement("div",{className:e.formationContainer,id:"formation-selector"},r.a.createElement(b.f,{className:e.formationSelector},r.a.createElement(b.g,{htmlFor:"formation",className:e.label},"Formation"),r.a.createElement(b.m,{variant:"standard",value:this.state.formation,onChange:this.executeFormationChange,ref:this.ref,inputProps:{name:"formation",id:"formation"}},r.a.createElement(b.k,{value:""},"None"),D.labels.map(function(e,t){return r.a.createElement(b.k,{value:t,key:"formationmenu-".concat(t)},e)})))))}}]),t}(a.Component),L=Object(N.b)(function(e){return{shouldRun:e.cell.shouldRun}},function(e){return{nextGeneration:function(){return e({type:"RUN_GENERATION"})},clearCells:function(){return e({type:"CLEAR_CELLS"})},startExistence:function(){return e({type:"START_EXISTENCE"})},stopExistence:function(){return e({type:"STOP_EXISTENCE"})},fillFormation:function(t){return e({type:"FILL_FORMATION",payload:t})}}})(Object(h.withStyles)(function(e){return{toolbar:{paddingTop:3*e.spacing.unit,paddingBottom:3*e.spacing.unit,display:"flex",justifyContent:"center",flexGrow:1},button:{marginRight:2*e.spacing.unit},formationContainer:{position:"relative"},formationSelector:{position:"absolute",top:-2*e.spacing.unit,minWidth:12*e.spacing.unit}}})(Y)),W=Object(N.b)(function(e){return{generationNo:e.cell.generationNo,alivedCells:e.cell.alivedCells,cellsAmount:e.cell.cellsAmount,velocity:e.cell.velocity}},function(e){return{changeSpeed:function(t){return e({type:"CHANGE_SPEED",payload:t})}}})(Object(h.withStyles)(function(e){return{drawer:{width:220,flexShrink:0,zIndex:1e3},drawerPaper:{width:220},toolbar:{height:8*e.spacing.unit},nestedListItem:{paddingLeft:4*e.spacing.unit},badge:{top:"50%",right:-.5*e.spacing.unit},sliderContainer:{padding:2*e.spacing.unit}}})(function(e){var t=e.classes,n=e.pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{position:"fixed",color:"default"},r.a.createElement(b.n,{className:t.toolbar},r.a.createElement(b.o,{variant:"h6",color:"inherit",noWrap:!0},"Game of life"),r.a.createElement(L,null))),r.a.createElement(b.e,{variant:"permanent",className:t.drawer},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(b.d,null),r.a.createElement(b.h,null,r.a.createElement(b.i,{button:!0,component:R.a,to:"/",selected:"/"===n},r.a.createElement(b.j,null,"Position implementation")),r.a.createElement(b.d,null),r.a.createElement(b.i,null,r.a.createElement(b.j,null,"Statistics:")),r.a.createElement(b.i,{className:t.nestedListItem},r.a.createElement(b.b,{badgeContent:e.generationNo,showZero:!0,max:9999,color:"primary",classes:{badge:t.badge}},r.a.createElement(b.j,null,"Generation"))),r.a.createElement(b.i,{className:t.nestedListItem},r.a.createElement(b.b,{badgeContent:e.alivedCells,max:9999,color:"primary",classes:{badge:t.badge}},r.a.createElement(b.j,null,"Population"))),r.a.createElement(b.i,{className:t.nestedListItem},r.a.createElement(b.b,{badgeContent:"".concat(e.velocity,"/s"),showZero:!0,color:"primary",classes:{badge:t.badge}},r.a.createElement(b.j,null,"Generation velociy")))),r.a.createElement(G,{label:"Speed",onChange:function(t){e.changeSpeed({speed:t})}})))})),H=function(e){function t(e){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{pathname:this.props.location.pathname}),r.a.createElement("div",{className:e.panelContainer},r.a.createElement(d.a,{exact:!0,path:"/",component:_(C)}),r.a.createElement(d.a,{path:"/flexbox",component:_(E)}),r.a.createElement(d.a,{path:"/canvas",component:_(S)})))}}]),t}(a.Component),M=Object(h.withStyles)(function(e){return{panelContainer:{marginTop:8*e.spacing.unit,flexGrow:1,display:"flex"}}})(Object(m.a)(H)),P=Object(h.withStyles)(function(e){return{app:{textAlign:"center",display:"flex",justifyContent:"flex-start",alignItems:"stretch",alignContent:"center",flexGrow:1}}})(function(e){return r.a.createElement("div",{className:e.classes.app},r.a.createElement(M,null))}),z=(n(347),n(350)),F=n(29),V=n(132),U=n(133),q=n(25),B={cells:[],generationNo:0,alivedCells:0,cellsAmount:0,fieldWidth:474,fieldHeight:294,cellSize:6,generationHistory:[],velocity:0,shouldRun:!1,populationSpeed:100},J=function(e,t){var n={};Object.keys(e.cells).map(function(t){var a=[],r=t.split("_").map(function(e){return parseInt(e)});a.push("".concat(r[0]-1,"_").concat(r[1]-1)),a.push("".concat(r[0]-1,"_").concat(r[1])),a.push("".concat(r[0]-1,"_").concat(r[1]+1)),a.push("".concat(r[0],"_").concat(r[1]-1)),a.push("".concat(r[0],"_").concat(r[1])),a.push("".concat(r[0],"_").concat(r[1]+1)),a.push("".concat(r[0]+1,"_").concat(r[1]-1)),a.push("".concat(r[0]+1,"_").concat(r[1])),a.push("".concat(r[0]+1,"_").concat(r[1]+1)),a.map(function(t){return function(e,t){var n=e.split("_").map(function(e){return parseInt(e)}),a=[t["".concat(n[0]-1,"_").concat(n[1]-1)],t["".concat(n[0]-1,"_").concat(n[1])],t["".concat(n[0]-1,"_").concat(n[1]+1)],t["".concat(n[0],"_").concat(n[1]-1)],t["".concat(n[0],"_").concat(n[1]+1)],t["".concat(n[0]+1,"_").concat(n[1]-1)],t["".concat(n[0]+1,"_").concat(n[1])],t["".concat(n[0]+1,"_").concat(n[1]+1)]].reduce(function(e,t){return e+(t?1:0)},0),r=!1;return[2,3].includes(a)&&t["".concat(n[0],"_").concat(n[1])]&&(r=!0),3!==a||t["".concat(n[0],"_").concat(n[1])]||(r=!0),r}(t,e.cells)&&(n[t]=!0),!1})});var a=e.generationHistory.slice(e.generationHistory.length-500);a.push((new Date).getTime());var r=function(e){var t=new Date;return t.setSeconds(t.getSeconds()-2),(e.reduce(function(e,n){return t.getTime()<n?e+1:e},0)/2).toFixed(1)}(a);return Object(q.a)({},e,{generationNo:++e.generationNo,alivedCells:Object.keys(n).length,cells:n,generationHistory:a,velocity:r})},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RUN_GENERATION":return J(e);case"CHANGE_CELL":return function(e,t){var n=e.cells.map(function(e){return Object(U.a)(e)}),a=t.payload,r=a.row,l=a.col;return n[r][l]=!n[r][l],Object(q.a)({},e,{alivedCells:n[r][l]?e.alivedCells+1:e.alivedCells,cells:n})}(e,t);case"CLEAR_CELLS":return function(e,t){return Object(q.a)({},e,{generationNo:0,alivedCells:0,cells:{}})}(e);case"START_EXISTENCE":return function(e,t){return Object(q.a)({},e,{shouldRun:!e.shouldRun})}(e);case"STOP_EXISTENCE":return function(e,t){return Object(q.a)({},e,{shouldRun:!1})}(e);case"FILL_FORMATION":return function(e,t){for(var n=D.matrixes[t.payload.formation],a=Math.ceil(n[0].length/2),r=Math.ceil(n.length/2),l={},o=-1*a;o<n[0].length-a;o++)for(var i=-1*r;i<n.length-r;i++)n[i+r][o+a]&&(l["".concat(o,"_").concat(i)]=!0);return Object(q.a)({},e,{cells:l})}(e,t);case"CHANGE_SPEED":return function(e,t){var n=t.payload.speed,a=10*(n=101-n);return Object(q.a)({},e,{populationSpeed:a})}(e,t);default:return e}},K={isDragging:!1,startX:0,startY:0,viewportX:0,viewportY:0,oldViewportX:0,oldViewportY:0},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VIEWPORT_START_DRAG":return function(e,t){var n=t.payload,a=n.pageX,r=n.pageY;return Object(q.a)({},e,{isDragging:!0,oldViewportX:e.viewportX,oldViewportY:e.viewportY,startX:a,startY:r})}(e,t);case"VIEWPORT_STOP_DRAG":return function(e,t){return Object(q.a)({},e,{isDragging:!1,oldViewportX:0,oldViewportY:0,startX:0,startY:0})}(e);case"VIEWPORT_DRAGGING":return function(e,t){var n=t.payload,a=n.pageX,r=n.pageY,l=a-e.startX,o=r-e.startY;return Object(q.a)({},e,{viewportX:e.oldViewportX+l,viewportY:e.oldViewportY+o})}(e,t);default:return e}},$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.d,ee=Object(F.e)(Object(F.c)({cell:Z,viewport:Q}),$(Object(F.a)(V.a)));o.a.render(r.a.createElement(z.a,null,r.a.createElement(N.a,{store:ee},r.a.createElement(P,null))),document.getElementById("root"))}},[[211,2,1]]]);
//# sourceMappingURL=main.8186ae56.chunk.js.map