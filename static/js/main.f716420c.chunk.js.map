{"version":3,"sources":["components/Flexbox/Cell.js","components/Flexbox/Row.js","components/Flexbox/Panel.js","components/Position/Cell.js","components/Position/Panel.js","components/Canvas/Cell.js","components/Canvas/Panel.js","formations/index.js","formations/formations.js","lib/RLEParser.js","lib/Plane.js","actions/index.js","actions/actionTypes.js","containers/withPanelState.js","components/SliderUI.js","components/FormationDialog.js","components/Toolbar.js","components/Header.js","containers/Page.js","App.js","reducers/cell.js","reducers/viewport.js","store.js","index.js"],"names":["withStyles","theme","cell","background","display","width","height","border","alive","props","classes","cellClass","react_default","a","createElement","className","join","row","justifyContent","alignItems","items","map","item","index","length","Flexbox_Cell","cellInd","key","concat","rowInd","Panel","_this","this","_this$props","cells","style","fieldWidth","fieldHeight","index_es","elevation","paper","square","Flexbox_Row","onCellClick","Component","margin","backgroundImage","position","top","left","transformOrigin","containerWidth","containerHeight","cellSize","viewportX","viewportY","indexes","split","x","y","transform","refs","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleOnMouseDownCapture","event","dragStart","pageX","pageY","handleOnMouseUpCapture","dragStop","handleOnMouseMoveCapture","isDragging","dragging","pageRef","React","createRef","state","setState","current","offsetWidth","offsetHeight","_this2","paperClasses","push","ref","onMouseDownCapture","onMouseUpCapture","onMouseMoveCapture","id","keys","Position_Cell","flexGrow","flexWrap","cursor","Cell","ReactKonva","fill","Canvas_Cell","labels","matrixes","patterns","label","pattern","matrix","src_formations","RLEParser","preparePattern","lines","filter","line","indexOf","trim","boundingBox","parseBoundingBox","shift","box","includes","coord","parseInt","match","e","error","prepareLines","replace","emptyLines","repeat","parseSingleLine","number","ret","parseLines","parse","parsedLines","rawPattern","Plane","calculateCell","xy","num","nbCount","reduce","prev","retValue","calculateGeneration","calculatedCells","cellsToProcess","fillFormation","payload","formation","Number","isInteger","formations","parsedData","type","importError","translateX","Math","ceil","translateY","i","j","generationNo","generationHistory","nextGeneration","velocity","slice","Date","getTime","currentDate","setSeconds","getSeconds","curr","toFixed","calculateVelocity","withPanelState","WrappedComponent","PanelHOC","_Component","apply","arguments","inherits","createClass","value","prevProps","shouldRun","populationSpeed","requestAnimationFrame","setTimeout","connect","viewport","dispatch","actions","changeCell","col","SliderUI","handleChange","onChange","container","Slider_default","slider","min","padding","spacing","unit","marginBottom","textAlign","FormationDialog","handleImport","handleClose","handlePatternChange","target","Dialog_default","open","onClose","aria-labelledby","maxWidth","DialogTitle_default","DialogContent_default","DialogContentText_default","href","rel","TextField_default","hasError","textField","autoFocus","helperText","fullWidth","multiline","rows","DialogActions_default","Button_default","onClick","color","& textarea","fontSize","Toolbar","interval","executeNextGeneration","executeClear","clearCells","executeRun","startExistence","executeFormationChange","importPopup","handleImportClose","clearImportError","toolbar","button","variant","size","formationContainer","formationSelector","htmlFor","inputProps","name","components_FormationDialog","showImportPopup","stopExistence","paddingTop","paddingBottom","marginRight","minWidth","alivedCells","cellsAmount","changeSpeed","drawer","flexShrink","zIndex","overflow","& > div","drawerPaper","nestedListItem","paddingLeft","badge","right","sliderContainer","Fragment","noWrap","components_Toolbar","badgeContent","showZero","max","components_SliderUI","speed","Page","components_Header","pathname","location","panelContainer","Route","exact","path","component","PanelPosition","PanelFlexbox","PanelCanvas","marginTop","withRouter","app","alignContent","containers_Page","initialState","reducer","undefined","action","toConsumableArray","_action$payload","objectSpread","_action$payload2","_action$payload2$gene","_action$payload2$aliv","_action$payload2$velo","startX","startY","oldViewportX","oldViewportY","startDrag","stopDrag","dX","dY","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","applyMiddleware","thunk","ReactDOM","render","HashRouter","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f716420c.chunk.js","sourcesContent":["import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  cell: {\n    background: \"#aaa\",\n    display: \"block\",\n    width: 9,\n    height: 9,\n    border: \"1px solid rgb(220, 220, 220)\",\n  },\n  alive: {\n    background: \"#fff\"\n  }\n});\n\nconst Cell = props => {\n  const { classes } = props;\n  const cellClass = [\n    classes.cell,\n    props.alive !== false ? classes.alive : null\n  ];\n\n  return <span className={cellClass.join(\" \")} />;\n}\nexport default withStyles(styles)(Cell);","import React from \"react\";\nimport Cell from \"./Cell\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  row: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"flex-start\"\n  }\n});\n\nconst Row = props => (\n  <div className={props.classes.row}>\n    {props.items.map((item, index) =>\n      index > 0 && index < props.items.length - 1 ? (\n        <Cell\n          cellInd={index}\n          alive={item}\n          key={`cell-flexbox-${props.rowInd}-${index}`}\n        />\n      ) : null\n    )}\n  </div>\n);\n\nexport default withStyles(styles)(Row);\n","import React, { Component } from \"react\";\nimport Row from \"./Row\";\nimport { Paper } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  paper: {\n    margin: \"0px auto\",\n    background: \"#eee\",\n    backgroundImage: \"url(/images/cell_11x11.png)\"\n  },\n});\n\nclass Panel extends Component {\n\n  render() {\n    const { cells, classes } = this.props;\n    const style = {\n      width: this.props.fieldWidth,\n      height: this.props.fieldHeight\n    };\n    return (\n      <Paper elevation={2} className={classes.paper} square=\"true\" style={style} >\n        {cells.map((row, index) => {\n          return index > 0 && index < cells.length - 1 ? (\n            <Row\n              items={row}\n              rowInd={index}\n              onCellClick={this.onCellClick}\n              key={`row-flexbox-${index}`}\n            />\n          ) : null;\n        })}\n      </Paper>\n    );\n  }\n}\nexport default withStyles(styles)(Panel);","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  cell: {\n\n    display: \"block\",\n    width: 6,\n    height: 6,\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    transformOrigin: \"right bottom\",\n    background: \"#fff\"\n  }\n});\n\nconst Cell = props => {\n  const { classes, item, containerWidth, containerHeight, cellSize, viewportX, viewportY } = props;\n\n  const indexes = item.split(\"_\");\n  const x = viewportX + (cellSize + 1) * indexes[0] + containerWidth / 2;\n  const y = viewportY + (cellSize + 1) * indexes[1] + containerHeight / 2;\n  const style = {\n    transform: `translate3d(${x}px,${y}px, 0)`\n  };\n  const showCell = !(x < 0 || x > containerWidth || y < 0 || y > containerHeight);\n  return showCell ? <span className={classes.cell} style={style} /> : null;\n};\nexport default withStyles(styles)(Cell);\n","import React, { Component } from \"react\";\nimport Cell from \"./Cell\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  paper: {\n    margin: \"0px auto\",\n    background: \"rgba(0, 0, 0, 0.14)\",\n    display: \"flex\",\n    flexGrow: 1,\n    flexWrap: \"wrap\",\n    position: \"relative\",\n    cursor: \"grab\"\n  },\n  isDragging: {\n    cursor: \"grabbing\"\n  }\n});\n\nclass Panel extends Component {\n  constructor(refs) {\n    super(refs);\n    this.pageRef = React.createRef();\n    this.state = {\n      containerWidth: 0,\n      containerHeight: 0\n    };\n  }\n  componentDidMount() {\n    this.setState({\n      containerWidth: this.pageRef.current.offsetWidth,\n      containerHeight: this.pageRef.current.offsetHeight\n    });\n  }\n\n  handleOnMouseDownCapture = event => {\n    this.props.dragStart({\n      pageX: event.pageX,\n      pageY: event.pageY\n    });\n  };\n  handleOnMouseUpCapture = event => {\n    this.props.dragStop({\n      pageX: event.pageX,\n      pageY: event.pageY\n    });\n  };\n  handleOnMouseMoveCapture = event => {\n    if (this.props.isDragging) {\n      this.props.dragging({\n        pageX: event.pageX,\n        pageY: event.pageY\n      });\n    }\n  };\n\n  render() {\n    const { classes, cells, viewportX, viewportY } = this.props;\n    const paperClasses = [classes.paper];\n    if (this.props.isDragging) {\n      paperClasses.push(classes.isDragging);\n    }\n    return (\n      <div\n        elevation={2}\n        className={paperClasses.join(\" \")}\n        square=\"true\"\n        ref={this.pageRef}\n        onMouseDownCapture={this.handleOnMouseDownCapture}\n        onMouseUpCapture={this.handleOnMouseUpCapture}\n        onMouseMoveCapture={this.handleOnMouseMoveCapture}\n        id=\"plane\"\n      >\n        {Object.keys(cells).map(item => {\n          return (\n            <Cell\n              item={item}\n              containerWidth={this.state.containerWidth}\n              containerHeight={this.state.containerHeight}\n              cellSize={this.props.cellSize}\n              viewportX={viewportX}\n              viewportY={viewportY}\n              key={`cell-${item}`}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Panel);\n","import React from \"react\";\nimport { Rect } from \"react-konva\";\n\nconst Cell = props => {\n    const x = (props.cellSize) * (props.cellInd - 1) + 1;\n    const y = (props.cellSize) * (props.rowInd - 1) + 1;\n    return (\n        props.alive ? <Rect\n            x={x}\n            y={y}\n            width={9}\n            height={9}\n            fill=\"#fff\"\n        /> : null\n    )\n}\nexport default Cell;","import React from \"react\";\nimport Cell from \"./Cell\";\n\nimport { Stage, Layer } from \"react-konva\";\nimport { Paper, withStyles } from \"@material-ui/core\";\n\nconst styles = theme => ({\n  paper: {\n    margin: \"0px auto\",\n    background: \"#eee\",\n    backgroundImage: \"url(/images/cell_11x11.png)\"\n  },\n});\n\nconst Panel = props => {\n  const { cells, classes } = props;\n  const style = {\n    width: props.fieldWidth,\n    height: props.fieldHeight\n  };\n  return (\n    <Paper elevation={2} className={classes.paper} square=\"true\" style={style} >\n      <Stage width={props.fieldWidth} height={props.fieldHeight}>\n        <Layer>\n          {cells.map((row, index) => {\n            return index > 0 && index < cells.length - 1 ? (\n              row.map((cell, cellInd) => {\n                return <Cell rowInd={index} cellInd={cellInd} cellSize={props.cellSize} alive={cell} key={`cell-canvas-${index}-${cellInd}`} />\n              })) : null;\n          })}\n        </Layer>\n      </Stage>\n    </Paper>\n  )\n}\n\nexport default withStyles(styles)(Panel);\n\n","import formations from \"./formations\";\nconst labels = [];\nconst matrixes = [];\nconst patterns = [];\n\nformations.map((item) => {\n    labels.push(item.label);\n    matrixes.push(item.matrix);\n    patterns.push(item.pattern);\n    return false;\n})\n    \nexport default {\n    labels,\n    matrixes,\n    patterns\n}","const formations = [\n    {\n        label: \"Glider\",\n        pattern: `x = 3, y = 3, rule = B3/S23\n        bob$2bo$3o!`\n    },\n    {\n        label: \"Rats\",\n        pattern: `x = 12, y = 11, rule = B3/S23\n        5b2o5b$6bo5b$4bo7b$2obob4o3b$2obo5bobo$3bo2b3ob2o$3bo4bo3b$4b3obo3b$7bo4b$6bo5b$6b2o!`\n    },\n    {\n        label: \"Gosper glider gun\",\n        pattern: `x = 36, y = 9, rule = B3/S23\n        24bo11b$22bobo11b$12b2o6b2o12b2o$11bo3bo4b2o12b2o$2o8bo5bo3b2o14b$2o8bo3bob2o4bobo11b$10bo5bo7bo11b$11bo3bo20b$12b2o!`\n    },\n    {\n        label: \"8-engine Cordership\",\n        pattern: `x = 83, y = 83, rule = B3/S23\n        46bo$41bo2bobo2bo3bo$41bo4b2ob5o$41bo3bo4bobo2$43b3o$44bo18b2o$63b2o6$51bo$50bobo18b2o$31bo18bo2bo17b2o$31bo19b2o$31bo$35bo11b2o$31b3o2bo10b2o$30bo4bo$30bo3bo$31b3o$40b2o$37b2ob2o$30bobo$30bobo30bobo6bobo$30bobo29bo9bobo$30bobo30bo2bo6bo$31b2o32b3o$20b2o3b4o$15b3obo2bo6bo$19bo2bo2b5o$19bo2bo$21bo$18bobo33bo$19bo33bobo$24bo$24bo28bo2bo$55b2o$23b2o31bo$b3o19b2o2$5bo75bo$bo3b2o74b2o$3bobo47b2o27bo$3o52bo25bo$2bo15b2o33b2o$18b2o$b2o$2b2o10b2o$2bo10bo2bo$2b2o10bobo$b2o12bo20bobo6bobo$35bo9bobo22b2obo$36bo2bo6bo24b2o$38b3o6$27bo$6b2o18bobo$6b2o$26bo2bo$28b2o$29bo3$54bo$14b2o38b2o$14b2o10b2o27bo$28bo25bo$26b2o7$43b2obo$44b2o!`  \n    },\n    {\n        label: \"Glider-producing switch engine\",\n        pattern: `x = 67, y = 60, rule = 23/3\n        bo65b$bo65b$bo65b$5bo61b$b3o2bo60b$o4bo61b$o3bo62b$b3o63b$15b2o50b$13b2o2bo49b$obo10b2o3bo48b$obo10b2o52b$obo64b$obo17bo46b$b2o14bo49b3$22bo2bo41b$26bo40b$22bo10b2o32b$26bo6b2o32b$22b4o41b$21bo45b$22b2o43b$23bo43b3$41b2o24b$41b2o24b3$13b2o52b$13b2o52b5$36b2o29b$36b3o9b2o17b$37bo10bobo16b$49bo17b$33bo33b$27bo5bo33b$26bobo11b3o24b$26bo2bo9bob2o24b$16b2o9b2o10b2o26b$15bo2bo48b$15b2ob2o47b$18bobo46b$20b2o45b$17bo3bo45b$17bo2bo44b2o$18b3o44b2o3$54bo12b$53bobo11b$40bo12b2o12b$39bobo25b$39b2o!`\n    },\n    {\n        label: \"100 cell row\",\n        pattern: `x = 100, y = 1, rule = B3/S23\n        100o!`\n    },\n    {\n        label: \"Puffer\",\n        pattern: `x = 30, y = 27, rule = B3/S23\n        9bobo18b$8bo2bo18b$7b2o21b$6bo3bo19b$5b3obo20b$2b2o26b$bo3b5o7b4o5bo2b\n        o$o3bo12bo3bo3bo4b$o5b2o9bo7bo3bo$3o3b4o8bo2bo3b4ob$bo7bo20b$b2o19b2o\n        6b$bobo18b2o6b$b2o2b2obo8bobo2b2o6b$2bob3obo3bob4obo2b2o6b$9b2obob2o2b\n        o3b2o3b3o$4b6ob2o3b4o2b2o3b3o$5bo4b3o6bo2b2o3b3o$6b2o5b2o2b2o3b2o6b$7b\n        o2bo5b4o2b2o6b$8bobob2o5bo2b2o6b$22b2o6b2$18bo2bo3b4ob$17bo7bo3bo$17bo3bo3bo4b$17b4o5bo2bo!`\n    },\n    \n];\n\nexport default formations;","class RLEParser {\n  constructor(pattern) {\n    this.rawPattern = pattern;\n    this.error = false;\n    this.pattern = this.preparePattern(pattern);\n  }\n  preparePattern = pattern => {\n    const lines = pattern.split(\"\\n\").filter(line => line && line.indexOf(\"#\") !== 0).map(line => line.trim());\n    this.boundingBox = this.parseBoundingBox(lines[0]);\n    lines.shift();\n    return lines.join(\"\");\n  };\n\n  parseBoundingBox = line => {\n    let box = {};\n    try {\n      box = line\n        .split(\", \")\n        .filter(line => [\"x\", \"y\"].includes(line[0]))\n        .map(coord => parseInt(coord.match(/(\\d{1,})$/gm)[0]));\n    } catch (e){\n      this.error = true;\n    }\n    if (box.length !== 2) {\n      this.error = true;\n    }\n    return box;\n  };\n  prepareLines = () => {\n    const lines = this.pattern\n      .replace(\"!\", \"\")\n      .split(\"$\")\n      .map(line => {\n        if (line) {\n          line = line.trim();\n          let emptyLines = line.match(/(\\d{1,})$/gm);\n          if (emptyLines) {\n            line += \"$\".repeat(emptyLines - 1);\n          }\n        }\n        return line;\n      })\n      .join(\"$\")\n      .split(\"$\");\n    return lines;\n  };\n  parseSingleLine = line => {\n    let number = \"\";\n    const items = line\n      .split(\"\")\n      .map(item => {\n        if (item === \"o\" || item === \"b\") {\n          if (number === \"\") {\n            number = \"\";\n            return item;\n          } else {\n            const ret = item.repeat(number);\n            number = \"\";\n            return ret;\n          }\n        } else {\n          number += item;\n        }\n        return \"\";\n      })\n      .join(\"\");\n    return items;\n  };\n  parseLines = () => {\n    const lines = this.prepareLines();\n    if (this.boundingBox[1] !== lines.length) {\n      this.error = true;\n      return [];\n    }\n    const parsedLines = lines.map(line => this.parseSingleLine(line));\n    return parsedLines;\n  };\n  parse = () => {\n    const parsedLines = this.parseLines();\n    if (this.error) {\n      return false;\n    }\n\n    return {\n      boundingBox: this.boundingBox,\n      parsedLines\n    };\n  };\n}\n\nexport default RLEParser;\n\nexport const parseRLE = rleString => {\n  const parser = new RLEParser(rleString);\n  return parser.parse();\n};\n","class Plane {\n  constructor(cells) {\n    this.cells = cells;\n  }\n\n  calculateCell = id => {\n    const xy = id.split(\"_\").map(num => parseInt(num));\n    const nb = [\n      this.cells[`${xy[0] - 1}_${xy[1] - 1}`],\n      this.cells[`${xy[0] - 1}_${xy[1]}`],\n      this.cells[`${xy[0] - 1}_${xy[1] + 1}`],\n      this.cells[`${xy[0]}_${xy[1] - 1}`],\n      this.cells[`${xy[0]}_${xy[1] + 1}`],\n      this.cells[`${xy[0] + 1}_${xy[1] - 1}`],\n      this.cells[`${xy[0] + 1}_${xy[1]}`],\n      this.cells[`${xy[0] + 1}_${xy[1] + 1}`]\n    ];\n    const nbCount = nb.reduce((prev, id) => prev + (id ? 1 : 0), 0);\n\n    let retValue = false;\n    if ([2, 3].includes(nbCount) && this.cells[`${xy[0]}_${xy[1]}`]) {\n      retValue = true;\n    }\n    if (nbCount === 3 && !this.cells[`${xy[0]}_${xy[1]}`]) {\n      retValue = true;\n    }\n    return retValue;\n  };\n\n  calculateGeneration = () => {\n    const calculatedCells = {};\n    Object.keys(this.cells).map(item => {\n      const cellsToProcess = [];\n      const xy = item.split(\"_\").map(num => parseInt(num));\n      cellsToProcess.push(`${xy[0] - 1}_${xy[1] - 1}`);\n      cellsToProcess.push(`${xy[0] - 1}_${xy[1]}`);\n      cellsToProcess.push(`${xy[0] - 1}_${xy[1] + 1}`);\n      cellsToProcess.push(`${xy[0]}_${xy[1] - 1}`);\n      cellsToProcess.push(`${xy[0]}_${xy[1]}`);\n      cellsToProcess.push(`${xy[0]}_${xy[1] + 1}`);\n      cellsToProcess.push(`${xy[0] + 1}_${xy[1] - 1}`);\n      cellsToProcess.push(`${xy[0] + 1}_${xy[1]}`);\n      cellsToProcess.push(`${xy[0] + 1}_${xy[1] + 1}`);\n\n      cellsToProcess.map(item => {\n        if (this.calculateCell(item, this.cells)) {\n          calculatedCells[item] = true;\n        }\n        return false;\n      });\n      return false;\n    });\n    return calculatedCells;\n  };\n}\n\nexport default Plane;\n\nexport const calculateGeneration = cells => {\n  const plane = new Plane(cells);\n  return plane.calculateGeneration();\n};\n","import * as actionTypes from \"./actionTypes\";\nimport formations from \"../formations\";\nimport { parseRLE } from \"../lib/RLEParser\";\nimport { calculateGeneration } from \"../lib/Plane\";\n\nexport const fillFormation = payload => {\n  const { formation } = payload;\n  let { pattern } = payload;\n\n  if (Number.isInteger(formation)) {\n    pattern = formations.patterns[formation];\n  }\n  const parsedData = parseRLE(pattern);\n\n  if(!parsedData) {\n    return {\n      type: actionTypes.IMPORT_ERROR,\n      payload: {\n        importError: true \n      }\n    };\n  }\n\n  const { boundingBox, parsedLines } = parsedData;\n  let translateX = Math.ceil(boundingBox[0] / 2);\n  let translateY = Math.ceil(boundingBox[1] / 2);\n\n  const cells = {};\n  for (let i = 0; i < boundingBox[0]; i++) {\n    for (let j = 0; j < boundingBox[1]; j++) {\n      if (parsedLines && parsedLines[j] && parsedLines[j][i] && parsedLines[j][i] === \"o\") {\n        cells[`${i - translateX}_${j - translateY}`] = true;\n      }\n    }\n  }\n  return {\n    type: actionTypes.NEXT_GENERATION,\n    payload: {\n      cells,\n      generationNo: 0\n    }\n  };\n};\n\nlet generationHistory = [];\nconst calculateVelocity = () => {\n  generationHistory = generationHistory.slice(generationHistory.length - 500);\n  generationHistory.push(new Date().getTime());\n\n  let currentDate = new Date();\n  currentDate.setSeconds(currentDate.getSeconds() - 2);\n  let velocity = generationHistory.reduce((prev, curr) => {\n    return currentDate.getTime() < curr ? prev + 1 : prev;\n  }, 0);\n  return (velocity / 2).toFixed(1);\n};\n\nexport const nextGeneration = payload => {\n  const { cells } = payload;\n  const calculatedCells = calculateGeneration(cells);\n  const velocity = calculateVelocity();\n\n  return {\n    type: actionTypes.NEXT_GENERATION,\n    payload: {\n      cells: calculatedCells,\n      velocity\n    }\n  };\n};\n","export const CHANGE_CELL = \"CHANGE_CELL\";\nexport const CLEAR_CELLS = \"CLEAR_CELLS\";\nexport const START_EXISTENCE = \"START_EXISTENCE\";\nexport const STOP_EXISTENCE = \"STOP_EXISTENCE\";\nexport const FILL_FORMATION = \"FILL_FORMATION\";\nexport const NEXT_GENERATION = \"NEXT_GENERATION\";\nexport const CHANGE_SPEED = \"CHANGE_SPEED\";\n\nexport const VIEWPORT_START_DRAG = \"VIEWPORT_START_DRAG\";\nexport const VIEWPORT_STOP_DRAG = \"VIEWPORT_STOP_DRAG\";\nexport const VIEWPORT_DRAGGING = \"VIEWPORT_DRAGGING\";\n\nexport const IMPORT_ERROR = \"IMPORT_ERROR\";\nexport const IMPORT_POPUP = \"IMPORT_POPUP\";\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../actions\";\n\nimport * as actionTypes from \"../actions/actionTypes\";\n\nconst withPanelState = WrappedComponent => {\n  class PanelHOC extends Component {\n    componentDidUpdate(prevProps) {\n      if (\n        this.props.shouldRun &&\n        !this.props.isDragging &&\n        prevProps.populationSpeed === this.props.populationSpeed\n      ) {\n        requestAnimationFrame(() => {\n          setTimeout(() => {\n            this.props.nextGeneration({ cells: this.props.cells });\n          }, Math.ceil((100 - prevProps.populationSpeed) * 0.01 * 200));\n        });\n      }\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  const mapStateToProps = state => ({\n    cells: state.cell.cells,\n    viewportX: state.viewport.viewportX,\n    viewportY: state.viewport.viewportY,\n    isDragging: state.viewport.isDragging,\n    fieldWidth: state.cell.fieldWidth,\n    fieldHeight: state.cell.fieldHeight,\n    cellSize: state.cell.cellSize,\n    shouldRun: state.cell.shouldRun,\n    populationSpeed: state.cell.populationSpeed\n  });\n  const mapDispatchToProps = dispatch => ({\n    nextGeneration: payload => dispatch(actions.nextGeneration(payload)),\n    changeCell: (row, col) => dispatch({ type: actionTypes.CHANGE_CELL, payload: { row, col } }),\n    dragStart: payload =>\n      dispatch({\n        type: actionTypes.VIEWPORT_START_DRAG,\n        payload\n      }),\n    dragStop: payload =>\n      dispatch({\n        type: actionTypes.VIEWPORT_STOP_DRAG,\n        payload\n      }),\n    dragging: payload =>\n      dispatch({\n        type: actionTypes.VIEWPORT_DRAGGING,\n        payload\n      })\n  });\n\n  return connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(PanelHOC);\n};\n\nexport default withPanelState;\n","import React, { Component } from \"react\";\nimport SliderMUI from \"@material-ui/lab/Slider\";\nimport { withStyles } from \"@material-ui/core\";\nimport { Typography } from \"@material-ui/core\";\n\nconst styles = theme => ({\n  container: {\n    padding: theme.spacing.unit * 2\n  },\n  label: {\n    marginBottom: theme.spacing.unit * 2,\n    textAlign: \"left\"\n  }\n});\n\nclass SliderUI extends Component {\n  state = {\n    value: 0\n  };\n\n  componentDidMount() {\n    this.setState({ value: this.props.populationSpeed });\n  }\n\n  handleChange = (event, value) => {\n    // console.log(value);\n    this.setState({\n      value\n    });\n    this.props.onChange(value);\n  };\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.container}>\n        <Typography id={this.props.label} className={classes.label}>\n          {this.props.label}\n        </Typography>\n        <SliderMUI\n          classes={{ container: classes.slider }}\n          value={this.state.value}\n          onChange={this.handleChange}\n          min={1}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(SliderUI);\n","import React, { Component } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  textField: {\n    \"& textarea\": {\n      fontSize: 14,\n      width: 600\n    }\n  }\n});\n\nclass FormationDialog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      pattern: \"\"\n    };\n  }\n  \n  handleImport = () => {\n    this.props.handleImport(this.state.pattern);\n  };\n  handleClose = () => {\n    this.props.handleClose();\n    this.setState({\n      pattern: \"\"\n    });\n  };\n\n  handlePatternChange = event => {\n    this.setState({\n      pattern: event.target.value\n    });\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <Dialog\n        open={this.props.open}\n        onClose={this.handleClose}\n        aria-labelledby=\"form-dialog-title\"\n        maxWidth=\"md\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Import from RLE file</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            You can find over 1000 patterns on{\" \"}\n            <a\n              href=\"http://www.conwaylife.com/wiki/Category:Patterns\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              this\n            </a>{\" \"}\n            wiki.\n          </DialogContentText>\n          <TextField\n            error={this.props.hasError}\n            className={classes.textField}\n            autoFocus\n            margin=\"dense\"\n            id=\"Pattern\"\n            label={this.props.hasError ? \"Invalid pattern\" : \"Pattern\"}\n            value={this.state.pattern}\n            helperText=\"Paste content of RLE file\"\n            type=\"text\"\n            fullWidth\n            multiline\n            rows=\"10\"\n            onChange={this.handlePatternChange}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.handleImport} color=\"primary\">\n            Import\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(FormationDialog);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../actions\";\nimport * as actionTypes from \"../actions/actionTypes\";\nimport { Button, Select, MenuItem, FormControl, InputLabel } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport formations from \"../formations\";\nimport FormationDialog from \"./FormationDialog\";\n\nconst styles = theme => ({\n  toolbar: {\n    paddingTop: theme.spacing.unit * 3,\n    paddingBottom: theme.spacing.unit * 3,\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexGrow: 1\n  },\n  button: {\n    marginRight: theme.spacing.unit * 2\n  },\n  formationContainer: {\n    position: \"relative\"\n  },\n  formationSelector: {\n    position: \"absolute\",\n    top: theme.spacing.unit * -2,\n    minWidth: theme.spacing.unit * 12\n  }\n});\n\nclass Toolbar extends Component {\n  constructor(props) {\n    super(props);\n    this.ref = React.createRef();\n  }\n  state = {\n    interval: 0,\n    formation: \"\"\n  };\n\n  componentDidMount() {\n    this.executeFormationChange({\n      target: {\n        value: \n        6\n      }\n    });\n  }\n  executeNextGeneration = () => {\n    this.props.nextGeneration({ cells: this.props.cells });\n  };\n  executeClear = () => {\n    this.props.clearCells();\n  };\n  executeRun = () => {\n    this.props.startExistence();\n  };\n  executeFormationChange = event => {\n    const { value } = event.target;\n    this.setState({\n      formation: value\n    });\n    if (value === \"\") {\n      this.props.clearCells();\n    } else if (value === \"-1\") {\n      this.props.importPopup(true);\n    } else {\n      this.props.fillFormation({\n        formation: parseInt(value)\n      });\n    }\n  };\n\n  handleImportClose = () => {\n    this.props.importPopup(false);\n    this.props.clearImportError();\n  };\n  handleImport = pattern => {\n    this.props.clearImportError();\n    this.props.fillFormation({ pattern });\n    this.props.importPopup(false);\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.toolbar}>\n        <Button\n          className={classes.button}\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"small\"\n          onClick={this.executeNextGeneration}\n        >\n          Next generation\n        </Button>\n        {this.state.interval ? (\n          <Button\n            className={classes.button}\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={this.executeRun}\n          >\n            Stop\n          </Button>\n        ) : (\n          <Button\n            className={classes.button}\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={this.executeRun}\n          >\n            {this.props.shouldRun ? \"Stop\" : \"Run\"}{\" \"}\n          </Button>\n        )}\n        <Button\n          className={classes.button}\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"small\"\n          onClick={this.executeClear}\n          id=\"clear-button\"\n        >\n          Clear\n        </Button>\n        <div className={classes.formationContainer} id=\"formation-selector\">\n          <FormControl className={classes.formationSelector}>\n            <InputLabel htmlFor=\"formation\" className={classes.label}>\n              Formation\n            </InputLabel>\n            <Select\n              variant=\"standard\"\n              value={this.state.formation}\n              onChange={this.executeFormationChange}\n              ref={this.ref}\n              inputProps={{\n                name: \"formation\",\n                id: \"formation\"\n              }}\n            >\n              <MenuItem value=\"\">None</MenuItem>\n              {formations.labels.map((item, key) => (\n                <MenuItem value={key} key={`formationmenu-${key}`}>\n                  {item}\n                </MenuItem>\n              ))}\n              <MenuItem value=\"-1\">Import pattern</MenuItem>\n            </Select>\n          </FormControl>\n        </div>\n        <FormationDialog\n          open={this.props.showImportPopup || this.props.importError}\n          hasError={this.props.importError}\n          handleClose={this.handleImportClose}\n          handleImport={this.handleImport}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  shouldRun: state.cell.shouldRun,\n  cells: state.cell.cells,\n  importError: state.cell.importError,\n  showImportPopup: state.cell.showImportPopup\n});\nconst mapDispatchToProps = dispatch => ({\n  nextGeneration: payload => dispatch(actions.nextGeneration(payload)),\n  clearCells: () => dispatch({ type: actionTypes.CLEAR_CELLS }),\n  startExistence: () => dispatch({ type: actionTypes.START_EXISTENCE }),\n  stopExistence: () => dispatch({ type: actionTypes.STOP_EXISTENCE }),\n  fillFormation: payload => dispatch(actions.fillFormation(payload)),\n  clearImportError: () =>\n    dispatch({ type: actionTypes.IMPORT_ERROR, payload: { importError: false } }),\n  importPopup: showImportPopup =>\n    dispatch({ type: actionTypes.IMPORT_POPUP, payload: { showImportPopup } })\n});\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(Toolbar));\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport {\n  List, ListItem, ListItemText, Drawer, Divider, AppBar, Toolbar, Typography, Badge\n} from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport Slider from \"./SliderUI\";\nimport * as actionTypes from \"../actions/actionTypes\";\nimport ToolbarCustom from \"./Toolbar\";\n\nconst drawerWidth = 220;\nconst styles = theme => ({\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    zIndex: 1000,\n    overflow: \"hidden\",\n    \"& > div\": {\n      width: drawerWidth,\n    }\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  toolbar: {\n    height: theme.spacing.unit * 8,\n    width: \"100%\"\n  },\n  nestedListItem: {\n    paddingLeft: theme.spacing.unit * 4,\n  },\n  badge: {\n    top: \"50%\",\n    right: theme.spacing.unit * -0.5\n  },\n  sliderContainer: {\n    padding: theme.spacing.unit * 2\n  }\n});\n\nconst Header = (props) => {\n  const changeSpeed = (value) => {\n    props.changeSpeed({\n      speed: value\n    })\n  }\n  const { classes, populationSpeed } = props;\n  return (\n    <>\n      <AppBar position=\"fixed\" color=\"default\" >\n        <Toolbar className={classes.toolbar}>\n          <Typography variant=\"h6\" color=\"inherit\" noWrap>\n            Game of life\n          </Typography>\n          <ToolbarCustom />\n        </Toolbar>\n      </AppBar>\n      <Drawer variant=\"permanent\" className={classes.drawer}>\n        <div className={classes.toolbar} />\n        <Divider />\n        <List>\n          {/* <ListItem button component={NavLink} to=\"/\" selected={pathname === \"/\"} >\n            <ListItemText>Position implementation</ListItemText>\n          </ListItem> */}\n          {/* <ListItem button component={NavLink} to=\"/flexbox\" selected={pathname === \"/flexbox\"}>\n            <ListItemText>Flexbox implementation</ListItemText>\n          </ListItem>\n          <ListItem button component={NavLink} to=\"/canvas\" selected={pathname === \"/canvas\"}>\n            <ListItemText>Canvas implementation</ListItemText>\n          </ListItem> */}\n      \n          <ListItem >\n            <ListItemText>Statistics:</ListItemText>\n          </ListItem>\n          <ListItem className={classes.nestedListItem} >\n            <Badge badgeContent={props.generationNo} showZero={true} max={9999} color=\"primary\" classes={{ badge: classes.badge }}>\n              <ListItemText>Generation</ListItemText>\n            </Badge>\n          </ListItem>\n          <ListItem className={classes.nestedListItem} >\n            <Badge badgeContent={props.alivedCells} max={9999} color=\"primary\" classes={{ badge: classes.badge }}>\n              <ListItemText>Population</ListItemText>\n            </Badge>\n          </ListItem>\n          <ListItem className={classes.nestedListItem} >\n            <Badge badgeContent={`${props.velocity}/s`} showZero={true} color=\"primary\" classes={{ badge: classes.badge }}>\n              <ListItemText>Generation velociy</ListItemText>\n            </Badge>\n          </ListItem>\n        </List>\n        <Slider label={`Speed`} onChange={changeSpeed} populationSpeed={populationSpeed} />\n      </Drawer>\n    </>\n  );\n};\n\nconst mapStateToProps = state => ({\n  generationNo: state.cell.generationNo,\n  alivedCells: state.cell.alivedCells,\n  cellsAmount: state.cell.cellsAmount,\n  velocity: state.cell.velocity,\n  populationSpeed: state.cell.populationSpeed\n});\n\nconst mapDispatchToProps = dispatch => ({\n  changeSpeed: (payload) => dispatch({ type: actionTypes.CHANGE_SPEED, payload })\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Header));\n","import React, { Component } from \"react\";\nimport { Route, withRouter } from \"react-router-dom\";\n\nimport PanelFlexbox from \"../components/Flexbox/Panel\";\nimport PanelPosition from \"../components/Position/Panel\";\nimport PanelCanvas from \"../components/Canvas/Panel\";\nimport withPanelState from \"./withPanelState\";\n\nimport Header from \"../components/Header\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  panelContainer: {\n    marginTop: theme.spacing.unit * 8,\n    flexGrow: 1,\n    display: \"flex\",\n    overflow: \"hidden\"\n  }\n});\n\nclass Page extends Component {\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <>\n        <Header pathname={this.props.location.pathname} />\n        <div className={classes.panelContainer}>\n          <Route exact path=\"/\" component={withPanelState(PanelPosition)}/>\n          <Route path=\"/flexbox\" component={withPanelState(PanelFlexbox)} />\n          <Route path=\"/canvas\" component={withPanelState(PanelCanvas)} />\n        </div>\n      </>\n    );\n  }\n}\nexport default withStyles(styles)(withRouter(Page));\n","import React from \"react\";\nimport Page from \"./containers/Page\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\n\nconst styles = theme => ({\n  app: {\n    textAlign: \"center\",\n    display: \"flex\",\n    justifyContent: \"flex-start\",\n    alignItems: \"stretch\",\n    alignContent: \"center\",\n    flexGrow: 1\n  }\n})\n\nconst App = props => {\n  return (\n    <div className={props.classes.app}>\n      <Page />\n    </div>\n  )\n}\nexport default withStyles(styles)(App);\n","import * as actionTypes from \"../actions/actionTypes\";\n\nconst initState = () => {\n  const cellSize = 6;\n  const initialState = {\n    cells: [],\n    generationNo: 0,\n    alivedCells: 0,\n    cellSize,\n    velocity: 0,\n    shouldRun: false,\n    populationSpeed: 80, // in %\n    importError: false,\n    showImportPopup: false\n  };\n  return initialState;\n};\n\nconst initialState = initState();\n\nconst changeCell = (state, action) => {\n  let cells = state.cells.map(item => [...item]);\n  const { row, col } = action.payload;\n  cells[row][col] = !cells[row][col];\n\n  return {\n    ...state,\n    alivedCells: cells[row][col] ? state.alivedCells + 1 : state.alivedCells,\n    cells\n  };\n};\n\nconst clearCells = state => {\n  const cells = {};\n  return {\n    ...state,\n    generationNo: 0,\n    alivedCells: 0,\n    cells\n  };\n};\n\nconst nextGeneration = (state, action) => {\n  const {\n    cells,\n    generationNo = state.generationNo + 1,\n    alivedCells = Object.keys(cells).length,\n    velocity = state.velocity\n  } = action.payload;\n  return {\n    ...state,\n    cells,\n    generationNo,\n    alivedCells,\n    velocity\n  };\n};\n\nconst startExistence = (state, action) => {\n  return {\n    ...state,\n    shouldRun: !state.shouldRun\n  };\n};\nconst stopExistence = (state, action) => {\n  return {\n    ...state,\n    shouldRun: false\n  };\n};\nconst changeSpeed = (state, action) => {\n  let { speed } = action.payload;\n  return {\n    ...state,\n    populationSpeed: speed\n  };\n};\nconst importError = (state, action) => {\n  const { importError } = action.payload;\n  return {\n    ...state,\n    importError\n  };\n};\n\nconst importPopup = (state, action) => {\n  const { showImportPopup } = action.payload;\n  return {\n    ...state,\n    showImportPopup\n  };\n};\n\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.CHANGE_CELL:\n      return changeCell(state, action);\n    case actionTypes.CLEAR_CELLS:\n      return clearCells(state, action);\n    case actionTypes.START_EXISTENCE:\n      return startExistence(state, action);\n    case actionTypes.STOP_EXISTENCE:\n      return stopExistence(state, action);\n    case actionTypes.CHANGE_SPEED:\n      return changeSpeed(state, action);\n    case actionTypes.NEXT_GENERATION:\n      return nextGeneration(state, action);\n    case actionTypes.IMPORT_ERROR:\n      return importError(state, action);\n    case actionTypes.IMPORT_POPUP:\n      return importPopup(state, action);\n    default:\n      return state;\n  }\n};\nexport default reducer;\n","import * as actionTypes from \"../actions/actionTypes\";\n\nconst initState = () => {\n  const initialState = {\n    isDragging: false,\n    startX: 0,\n    startY: 0,\n    viewportX: 0,\n    viewportY: 0,\n    oldViewportX: 0,\n    oldViewportY: 0\n  };\n  return initialState;\n};\n\nconst initialState = initState();\n\nconst startDrag = (state, action) => {\n  const { pageX, pageY } = action.payload;\n  return {\n    ...state,\n    isDragging: true,\n    oldViewportX: state.viewportX,\n    oldViewportY: state.viewportY,\n    startX: pageX,\n    startY: pageY\n  };\n};\nconst stopDrag = (state, action) => {\n  return {\n    ...state,\n    isDragging: false,\n    oldViewportX: 0,\n    oldViewportY: 0,\n    startX: 0,\n    startY: 0\n  };\n};\nconst dragging = (state, action) => {\n  const { pageX, pageY } = action.payload;\n  const dX = pageX - state.startX;\n  const dY = pageY - state.startY;\n  return {\n    ...state,\n    viewportX: state.oldViewportX + dX,\n    viewportY: state.oldViewportY + dY\n  };\n};\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.VIEWPORT_START_DRAG:\n      return startDrag(state, action);\n    case actionTypes.VIEWPORT_STOP_DRAG:\n      return stopDrag(state, action);\n    case actionTypes.VIEWPORT_DRAGGING:\n      return dragging(state, action);\n    default:\n      return state;\n  }\n};\nexport default reducer;\n","import { createStore, applyMiddleware, compose, combineReducers } from \"redux\";\nimport thunk from \"redux-thunk\";\n// import invariant from \"redux-immutable-state-invariant\";\n\nimport cell from \"./reducers/cell\";\nimport viewport from \"./reducers/viewport\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  combineReducers({\n    cell,\n    viewport\n  }),\n  composeEnhancers(applyMiddleware(thunk /*, invariant()*/))\n);\n\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n \nimport { Provider } from \"react-redux\";\nimport { HashRouter } from \"react-router-dom\";\nimport store from './store';\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}