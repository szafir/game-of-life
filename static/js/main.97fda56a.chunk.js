(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,t,n){e.exports=n(313)},311:function(e,t,n){},313:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(19),c=n.n(r),i=n(20),o=n(21),s=n(24),u=n(22),m=n(25),d=n(309),p=n(316),h=n(8),f=Object(h.withStyles)(function(e){return{cell:{background:"#aaa",display:"block",width:9,height:9,border:"1px solid rgb(220, 220, 220)"},alive:{background:"#fff"}}})(function(e){var t=e.classes,n=[t.cell,!1!==e.alive?t.alive:null];return l.a.createElement("span",{className:n.join(" ")})}),g=Object(h.withStyles)(function(e){return{row:{width:"100%",display:"flex",justifyContent:"center",alignItems:"flex-start"}}})(function(e){return l.a.createElement("div",{className:e.classes.row},e.items.map(function(t,n){return n>0&&n<e.items.length-1?l.a.createElement(f,{cellInd:n,alive:t,key:"cell-flexbox-".concat(e.rowInd,"-").concat(n)}):null}))}),b=n(3),E=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.cells,a=t.classes,r={width:this.props.fieldWidth,height:this.props.fieldHeight};return l.a.createElement(b.i,{elevation:2,className:a.paper,square:!0,style:r},n.map(function(t,a){return a>0&&a<n.length-1?l.a.createElement(g,{items:t,rowInd:a,onCellClick:e.onCellClick,key:"row-flexbox-".concat(a)}):null}))}}]),t}(a.Component),v=Object(h.withStyles)(function(e){return{paper:{margin:"0px auto",background:"#eee",backgroundImage:"url(/images/cell_11x11.png)"}}})(E),y=Object(h.withStyles)(function(e){return{cell:{background:"#aaa",display:"block",width:9,height:9,border:"1px solid rgb(220, 220, 220)",position:"absolute"},alive:{background:"#fff"}}})(function(e){var t=e.classes,n=[t.cell,!1!==e.alive?t.alive:null],a={transform:"translate3d(".concat(11*(e.cellInd-1),"px,").concat(11*(e.rowInd-1),"px, 0)")};return l.a.createElement("span",{className:n.join(" "),style:a})}),x=Object(h.withStyles)(function(e){return{paper:{margin:"0px auto",background:"#eee",backgroundImage:"url(images/cell_11x11.png)"}}})(function(e){var t=e.cells,n=e.classes,a={width:e.fieldWidth,height:e.fieldHeight};return l.a.createElement(b.i,{elevation:2,className:n.paper,square:!0,style:a},t.map(function(e,n){return n>0&&n<t.length-1?e.map(function(t,a){return a>0&&a<e.length-1&&t?l.a.createElement(y,{cellInd:a,rowInd:n,alive:t,key:"cell-positioned-".concat(n,"-").concat(a)}):null}):null}))}),O=n(36),C=function(e){var t=e.cellSize*(e.cellInd-1)+1,n=e.cellSize*(e.rowInd-1)+1;return e.alive?l.a.createElement(O.Rect,{x:t,y:n,width:9,height:9,fill:"#fff"}):null},N=Object(h.withStyles)(function(e){return{paper:{margin:"0px auto",background:"#eee",backgroundImage:"url(/images/cell_11x11.png)"}}})(function(e){var t=e.cells,n=e.classes,a={width:e.fieldWidth,height:e.fieldHeight};return l.a.createElement(b.i,{elevation:2,className:n.paper,square:!0,style:a},l.a.createElement(O.Stage,{width:e.fieldWidth,height:e.fieldHeight},l.a.createElement(O.Layer,null,t.map(function(n,a){return a>0&&a<t.length-1?n.map(function(t,n){return l.a.createElement(C,{rowInd:a,cellInd:n,cellSize:e.cellSize,alive:t,key:"cell-canvas-".concat(a,"-").concat(n)})}):null}))))}),j=n(23),w=function(e){var t=function(t){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,t),Object(o.a)(n,[{key:"componentDidUpdate",value:function(){var e=this;this.props.shouldRun&&setTimeout(function(){e.props.nextGeneration()},1)}},{key:"render",value:function(){return l.a.createElement(e,this.props)}}]),n}(a.Component);return Object(j.b)(function(e){return{cells:e.cells,fieldWidth:e.fieldWidth,fieldHeight:e.fieldHeight,cellSize:e.cellSize,shouldRun:e.shouldRun}},function(e){return{nextGeneration:function(){return e({type:"RUN_GENERATION"})},changeCell:function(t,n){return e({type:"CHANGE_CELL",payload:{row:t,col:n}})}}})(t)},S=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={interval:0},n.executeNextGeneration=function(){n.props.nextGeneration()},n.executeClear=function(){n.props.clearCells()},n.executeFillrandomly=function(){n.props.fillRandomly()},n.executeRun=function(){n.props.startExistence()},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.fillRandomly()}},{key:"render",value:function(){var e=this.props.classes;return l.a.createElement("div",{className:e.header},l.a.createElement(b.c,{className:e.button,variant:"contained",size:"small",onClick:this.executeNextGeneration},"Next generation"),this.state.interval?l.a.createElement(b.c,{className:e.button,variant:"contained",size:"small",onClick:this.executeRun},"Stop"):l.a.createElement(b.c,{className:e.button,variant:"contained",size:"small",onClick:this.executeRun},this.props.shouldRun?"Stop":"Run"," "),l.a.createElement(b.c,{className:e.button,variant:"contained",size:"small",onClick:this.executeClear},"Clear"),l.a.createElement(b.c,{className:e.button,variant:"contained",size:"small",onClick:this.executeFillrandomly},"Random"))}}]),t}(a.Component),k=Object(j.b)(function(e){return{shouldRun:e.shouldRun}},function(e){return{nextGeneration:function(){return e({type:"RUN_GENERATION"})},clearCells:function(){return e({type:"CLEAR_CELLS"})},startExistence:function(){return e({type:"START_EXISTENCE"})},stopExistence:function(){return e({type:"STOP_EXISTENCE"})},fillRandomly:function(){return e({type:"FILL_RANDOMLY"})}}})(Object(h.withStyles)(function(e){return{header:{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,display:"flex",justifyContent:"flex-start"},button:{marginRight:2*e.spacing.unit}}})(S)),I=n(315),R=Object(j.b)(function(e){return{generationNo:e.generationNo,alivedCells:e.alivedCells,cellsAmount:e.cellsAmount,velocity:e.velocity}},null)(Object(h.withStyles)(function(e){return{drawer:{width:220,flexShrink:0,zIndex:1e3},drawerPaper:{width:220},toolbar:e.mixins.toolbar,nestedListItem:{paddingLeft:4*e.spacing.unit},badge:{top:"50%",right:-.5*e.spacing.unit}}})(function(e){var t=e.classes,n=e.pathname;return l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{position:"fixed",className:t.appBar},l.a.createElement(b.j,null,l.a.createElement(b.k,{variant:"h6",color:"inherit",noWrap:!0},"Game of life"))),l.a.createElement(b.e,{variant:"permanent",className:t.drawer},l.a.createElement("div",{className:t.toolbar}),l.a.createElement(b.d,null),l.a.createElement(b.f,null,l.a.createElement(b.g,{button:!0,component:I.a,to:"/",selected:"/"===n},l.a.createElement(b.h,null,"Position implementation")),l.a.createElement(b.g,{button:!0,component:I.a,to:"/flexbox",selected:"/flexbox"===n},l.a.createElement(b.h,null,"Flexbox implementation")),l.a.createElement(b.g,{button:!0,component:I.a,to:"/canvas",selected:"/canvas"===n},l.a.createElement(b.h,null,"Canvas implementation")),l.a.createElement(b.d,null),l.a.createElement(b.g,null,l.a.createElement(b.h,null,"Statistics:")),l.a.createElement(b.g,{className:t.nestedListItem},l.a.createElement(b.b,{badgeContent:e.generationNo,showZero:!0,max:9999,color:"primary",classes:{badge:t.badge}},l.a.createElement(b.h,null,"Generation no"))),l.a.createElement(b.g,{className:t.nestedListItem},l.a.createElement(b.b,{badgeContent:e.alivedCells,max:999,color:"primary",classes:{badge:t.badge}},l.a.createElement(b.h,null,"Alived cells"))),l.a.createElement(b.g,{className:t.nestedListItem},l.a.createElement(b.b,{badgeContent:e.cellsAmount,max:9999,color:"primary",classes:{badge:t.badge}},l.a.createElement(b.h,null,"Cells amount"))),l.a.createElement(b.g,{className:t.nestedListItem},l.a.createElement(b.b,{badgeContent:e.velocity,showZero:!0,color:"primary",classes:{badge:t.badge}},l.a.createElement(b.h,null,"Velocity"))),l.a.createElement(b.g,{className:t.nestedListItem},l.a.createElement(b.b,{badgeContent:(e.velocity/e.alivedCells).toFixed(3),showZero:!0,max:9999,color:"primary",classes:{badge:t.badge}},l.a.createElement(b.h,null,"Normalized velocity"))))))})),L=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.classes;return l.a.createElement(l.a.Fragment,null,l.a.createElement(R,{pathname:this.props.location.pathname}),l.a.createElement("div",{className:e.panelContainer},l.a.createElement(d.a,{exact:!0,path:"/",component:w(x)}),l.a.createElement(d.a,{path:"/flexbox",component:w(v)}),l.a.createElement(d.a,{path:"/canvas",component:w(N)}),l.a.createElement(k,null)))}}]),t}(a.Component),_=Object(h.withStyles)(function(e){return{panelContainer:{marginTop:12*e.spacing.unit}}})(Object(p.a)(L)),A=Object(h.withStyles)(function(e){return{app:{textAlign:"center",display:"flex",justifyContent:"center"}}})(function(e){return l.a.createElement("div",{className:e.classes.app},l.a.createElement(_,null))}),T=(n(311),n(30)),z=n(31),G=n(37),H=function(){for(var e={cells:[],generationNo:0,alivedCells:0,cellsAmount:0,fieldWidth:869,fieldHeight:539,cellSize:11,generationHistory:[],velocity:0,shouldRun:!1},t=0;t<=50;t++){e.cells[t]=[];for(var n=0;n<=80;n++)e.cells[t][n]=!1}return e.cellsAmount=(e.cells.length-2)*(e.cells[1].length-2),e}(),F=function(e,t){for(var n=0,a=e.cells.map(function(e){return Object(G.a)(e)}),l=1;l<e.cells.length-1;l++)for(var r=1;r<e.cells[l].length-1;r++){var c=[e.cells[l-1][r-1],e.cells[l-1][r],e.cells[l-1][r+1],e.cells[l][r-1],e.cells[l][r+1],e.cells[l+1][r-1],e.cells[l+1][r],e.cells[l+1][r+1]].reduce(function(e,t){return e+(t?1:0)},0);a[l][r]=e.cells[l][r]&&[2,3].includes(c)||!e.cells[l][r]&&3===c,n=a[l][r]?n+1:n}var i=e.generationHistory.slice(e.generationHistory.length-500);i.push((new Date).getTime());var o=function(e){var t=new Date;return t.setSeconds(t.getSeconds()-2),(e.reduce(function(e,n){return t.getTime()<n?e+1:e},0)/2).toFixed(1)}(i);return Object(z.a)({},e,{generationNo:++e.generationNo,alivedCells:n,cells:a,generationHistory:i,velocity:o})},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RUN_GENERATION":return F(e);case"CHANGE_CELL":return function(e,t){var n=e.cells.map(function(e){return Object(G.a)(e)}),a=t.payload,l=a.row,r=a.col;return n[l][r]=!n[l][r],Object(z.a)({},e,{alivedCells:n[l][r]?e.alivedCells+1:e.alivedCells,cells:n})}(e,t);case"CLEAR_CELLS":return function(e,t){var n=H.cells.map(function(e){return Object(G.a)(e)});return Object(z.a)({},e,{generationNo:0,alivedCells:0,cells:n})}(e);case"FILL_RANDOMLY":return function(e,t){for(var n=H.cells.map(function(e){return Object(G.a)(e)}),a=0,l=1;l<e.cells.length-1;l++)for(var r=1;r<e.cells[l].length;r++)n[l][r]=Math.random()>.9,a=n[l][r]?a+1:a;return Object(z.a)({},e,{generationNo:0,alivedCells:a,cells:n})}(e);case"START_EXISTENCE":return function(e,t){return Object(z.a)({},e,{shouldRun:!e.shouldRun})}(e);default:return e}},W=n(106),M=n(314),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.c,X=Object(T.d)(D,U(Object(T.a)(W.a)));c.a.render(l.a.createElement(M.a,{basename:"/game-of-life"},l.a.createElement(j.a,{store:X},l.a.createElement(A,null))),document.getElementById("root"))}},[[195,2,1]]]);
//# sourceMappingURL=main.97fda56a.chunk.js.map